{"version":3,"sources":["webpack:///./node_modules/domhandler/lib/node.js","webpack:///./node_modules/domhandler/lib/index.js"],"names":["extendStatics","__extends","this","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","defineProperty","exports","value","cloneNode","Element","NodeWithChildren","ProcessingInstruction","Comment","Text","DataNode","Node","nodeTypes","Map","type","parent","prev","next","startIndex","endIndex","get","_a","enumerable","configurable","set","recursive","_super","data","_this","name","children","attribs","keys","map","node","instr","elem","cloneChildren","clone_1","forEach","child","clone_2","Error","childs","__createBinding","o","m","k","k2","undefined","__exportStar","DomHandler","node_1","reWhitespace","defaultOpts","normalizeWhitespace","withStartIndices","withEndIndices","callback","options","elementCB","dom","_done","_tagStack","_lastNode","_parser","_callback","_options","_elementCB","onparserinit","parser","onreset","onend","handleCallback","onerror","error","onclosetag","pop","onopentag","element","addNode","push","ontext","normalize","replace","oncomment","oncommentend","oncdatastart","text","oncdataend","onprocessinginstruction","siblings","previousSibling","addDataNode","default"],"mappings":"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","file":"vendors.domhandler.249c95417ccbf79ffe06.js","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cloneNode = exports.Element = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\nvar nodeTypes = new Map([\n    [\"tag\" /* Tag */, 1],\n    [\"script\" /* Script */, 1],\n    [\"style\" /* Style */, 1],\n    [\"directive\" /* Directive */, 1],\n    [\"text\" /* Text */, 3],\n    [\"cdata\" /* CDATA */, 4],\n    [\"comment\" /* Comment */, 8],\n]);\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nvar Node = /** @class */ (function () {\n    /**\n     *\n     * @param type The type of the node.\n     */\n    function Node(type) {\n        this.type = type;\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"nodeType\", {\n        // Read-only aliases\n        get: function () {\n            var _a;\n            return (_a = nodeTypes.get(this.type)) !== null && _a !== void 0 ? _a : 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        get: function () {\n            return this.parent;\n        },\n        set: function (parent) {\n            this.parent = parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        get: function () {\n            return this.prev;\n        },\n        set: function (prev) {\n            this.prev = prev;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        get: function () {\n            return this.next;\n        },\n        set: function (next) {\n            this.next = next;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    Node.prototype.cloneNode = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        return cloneNode(this, recursive);\n    };\n    return Node;\n}());\nexports.Node = Node;\nvar DataNode = /** @class */ (function (_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param type The type of the node\n     * @param data The content of the data node\n     */\n    function DataNode(type, data) {\n        var _this = _super.call(this, type) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        get: function () {\n            return this.data;\n        },\n        set: function (data) {\n            this.data = data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataNode;\n}(Node));\nexports.DataNode = DataNode;\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text(data) {\n        return _super.call(this, \"text\" /* Text */, data) || this;\n    }\n    return Text;\n}(DataNode));\nexports.Text = Text;\nvar Comment = /** @class */ (function (_super) {\n    __extends(Comment, _super);\n    function Comment(data) {\n        return _super.call(this, \"comment\" /* Comment */, data) || this;\n    }\n    return Comment;\n}(DataNode));\nexports.Comment = Comment;\nvar ProcessingInstruction = /** @class */ (function (_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, \"directive\" /* Directive */, data) || this;\n        _this.name = name;\n        return _this;\n    }\n    return ProcessingInstruction;\n}(DataNode));\nexports.ProcessingInstruction = ProcessingInstruction;\nvar NodeWithChildren = /** @class */ (function (_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     *\n     * @param type Type of the node.\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    function NodeWithChildren(type, children) {\n        var _this = _super.call(this, type) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        get: function () {\n            var _a;\n            return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        get: function () {\n            return this.children.length > 0\n                ? this.children[this.children.length - 1]\n                : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        get: function () {\n            return this.children;\n        },\n        set: function (children) {\n            this.children = children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node));\nexports.NodeWithChildren = NodeWithChildren;\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    function Element(name, attribs, children) {\n        if (children === void 0) { children = []; }\n        var _this = _super.call(this, name === \"script\"\n            ? \"script\" /* Script */\n            : name === \"style\"\n                ? \"style\" /* Style */\n                : \"tag\" /* Tag */, children) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.attribs = attribs;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        get: function () {\n            return this.name;\n        },\n        set: function (name) {\n            this.name = name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n        get: function () {\n            var _this = this;\n            return Object.keys(this.attribs).map(function (name) { return ({\n                name: name,\n                value: _this.attribs[name],\n            }); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren));\nexports.Element = Element;\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nfunction cloneNode(node, recursive) {\n    if (recursive === void 0) { recursive = false; }\n    switch (node.type) {\n        case \"text\" /* Text */:\n            return new Text(node.data);\n        case \"directive\" /* Directive */: {\n            var instr = node;\n            return new ProcessingInstruction(instr.name, instr.data);\n        }\n        case \"comment\" /* Comment */:\n            return new Comment(node.data);\n        case \"tag\" /* Tag */:\n        case \"script\" /* Script */:\n        case \"style\" /* Style */: {\n            var elem = node;\n            var children = recursive ? cloneChildren(elem.children) : [];\n            var clone_1 = new Element(elem.name, __assign({}, elem.attribs), children);\n            children.forEach(function (child) { return (child.parent = clone_1); });\n            return clone_1;\n        }\n        case \"cdata\" /* CDATA */: {\n            var cdata = node;\n            var children = recursive ? cloneChildren(cdata.children) : [];\n            var clone_2 = new NodeWithChildren(\"cdata\" /* CDATA */, children);\n            children.forEach(function (child) { return (child.parent = clone_2); });\n            return clone_2;\n        }\n        case \"doctype\" /* Doctype */: {\n            // This type isn't used yet.\n            throw new Error(\"Not implemented yet: ElementType.Doctype case\");\n        }\n    }\n}\nexports.cloneNode = cloneNode;\nfunction cloneChildren(childs) {\n    var children = childs.map(function (child) { return cloneNode(child, true); });\n    for (var i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DomHandler = void 0;\nvar node_1 = require(\"./node\");\n__exportStar(require(\"./node\"), exports);\nvar reWhitespace = /\\s+/g;\n// Default options\nvar defaultOpts = {\n    normalizeWhitespace: false,\n    withStartIndices: false,\n    withEndIndices: false,\n};\nvar DomHandler = /** @class */ (function () {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    function DomHandler(callback, options, elementCB) {\n        /** The constructed DOM */\n        this.dom = [];\n        /** Indicated whether parsing has been completed. */\n        this._done = false;\n        /** Stack of open tags. */\n        this._tagStack = [];\n        /** A data node that is still being written to. */\n        this._lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this._parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this._callback = callback !== null && callback !== void 0 ? callback : null;\n        this._options = options !== null && options !== void 0 ? options : defaultOpts;\n        this._elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    DomHandler.prototype.onparserinit = function (parser) {\n        this._parser = parser;\n    };\n    // Resets the handler back to starting state\n    DomHandler.prototype.onreset = function () {\n        var _a;\n        this.dom = [];\n        this._done = false;\n        this._tagStack = [];\n        this._lastNode = null;\n        this._parser = (_a = this._parser) !== null && _a !== void 0 ? _a : null;\n    };\n    // Signals the handler that parsing is done\n    DomHandler.prototype.onend = function () {\n        if (this._done)\n            return;\n        this._done = true;\n        this._parser = null;\n        this.handleCallback(null);\n    };\n    DomHandler.prototype.onerror = function (error) {\n        this.handleCallback(error);\n    };\n    DomHandler.prototype.onclosetag = function () {\n        this._lastNode = null;\n        var elem = this._tagStack.pop();\n        if (!elem || !this._parser) {\n            return;\n        }\n        if (this._options.withEndIndices) {\n            elem.endIndex = this._parser.endIndex;\n        }\n        if (this._elementCB)\n            this._elementCB(elem);\n    };\n    DomHandler.prototype.onopentag = function (name, attribs) {\n        var element = new node_1.Element(name, attribs);\n        this.addNode(element);\n        this._tagStack.push(element);\n    };\n    DomHandler.prototype.ontext = function (data) {\n        var normalize = this._options.normalizeWhitespace;\n        var _lastNode = this._lastNode;\n        if (_lastNode && _lastNode.type === \"text\" /* Text */) {\n            if (normalize) {\n                _lastNode.data = (_lastNode.data + data).replace(reWhitespace, \" \");\n            }\n            else {\n                _lastNode.data += data;\n            }\n        }\n        else {\n            if (normalize) {\n                data = data.replace(reWhitespace, \" \");\n            }\n            var node = new node_1.Text(data);\n            this.addNode(node);\n            this._lastNode = node;\n        }\n    };\n    DomHandler.prototype.oncomment = function (data) {\n        if (this._lastNode && this._lastNode.type === \"comment\" /* Comment */) {\n            this._lastNode.data += data;\n            return;\n        }\n        var node = new node_1.Comment(data);\n        this.addNode(node);\n        this._lastNode = node;\n    };\n    DomHandler.prototype.oncommentend = function () {\n        this._lastNode = null;\n    };\n    DomHandler.prototype.oncdatastart = function () {\n        var text = new node_1.Text(\"\");\n        var node = new node_1.NodeWithChildren(\"cdata\" /* CDATA */, [text]);\n        this.addNode(node);\n        text.parent = node;\n        this._lastNode = text;\n    };\n    DomHandler.prototype.oncdataend = function () {\n        this._lastNode = null;\n    };\n    DomHandler.prototype.onprocessinginstruction = function (name, data) {\n        var node = new node_1.ProcessingInstruction(name, data);\n        this.addNode(node);\n    };\n    DomHandler.prototype.handleCallback = function (error) {\n        if (typeof this._callback === \"function\") {\n            this._callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    };\n    DomHandler.prototype.addNode = function (node) {\n        var parent = this._tagStack[this._tagStack.length - 1];\n        var siblings = parent ? parent.children : this.dom;\n        var previousSibling = siblings[siblings.length - 1];\n        if (this._parser) {\n            if (this._options.withStartIndices) {\n                node.startIndex = this._parser.startIndex;\n            }\n            if (this._options.withEndIndices) {\n                node.endIndex = this._parser.endIndex;\n            }\n        }\n        siblings.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        if (parent) {\n            node.parent = parent;\n        }\n        this._lastNode = null;\n    };\n    DomHandler.prototype.addDataNode = function (node) {\n        this.addNode(node);\n        this._lastNode = node;\n    };\n    return DomHandler;\n}());\nexports.DomHandler = DomHandler;\nexports.default = DomHandler;\n"],"sourceRoot":""}